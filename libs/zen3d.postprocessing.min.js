!function(){var e=function(e){this.renderer=e,this.passes=[],this.renderTarget1=new zen3d.RenderTarget2D(e.backRenderTarget.width,e.backRenderTarget.height),this.renderTarget1.texture.minFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget1.texture.magFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget2=new zen3d.RenderTarget2D(e.backRenderTarget.width,e.backRenderTarget.height),this.renderTarget2.texture.minFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget2.texture.magFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2};e.prototype.swapBuffers=function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},e.prototype.resize=function(e,r){this.renderTarget1.resize(e,r),this.renderTarget2.resize(e,r)},e.prototype.addPass=function(e){this.passes.push(e)},e.prototype.render=function(e,r){for(var t=this.renderer,n=0;n<this.passes.length;n++){var s=this.passes[n];!1!==s.enabled&&(s.render(t,this.readBuffer,this.writeBuffer),s.needsSwap&&this.swapBuffers())}},zen3d.EffectComposer=e}(),function(){var e=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};e.prototype.render=function(e,r,t){console.error("zen3d.Pass: .render() must be implemented in derived pass.")},zen3d.Pass=e}(),function(){var e=function(r,t){e.superClass.constructor.call(this),this.scene=r,this.camera=t,this.needsSwap=!1};zen3d.inherit(e,zen3d.Pass),e.prototype.render=function(e,r,t){e.render(this.scene,this.camera,this.renderToScreen?null:r,this.clear)},zen3d.RenderPass=e}(),function(){var e=function(r,t){e.superClass.constructor.call(this),this.textureID=void 0!==t?t:"tDiffuse";var n=this.scene=new zen3d.Scene,s=this.camera=new zen3d.Camera;s.position.set(0,1,0),s.lookAt(new zen3d.Vector3(0,0,0),new zen3d.Vector3(0,0,-1)),s.setOrtho(-1,1,-1,1,.1,2),n.add(s);var i=new zen3d.PlaneGeometry(2,2,1,1);this.uniforms=zen3d.cloneUniforms(r.uniforms);var a=this.material=new zen3d.ShaderMaterial(r.vertexShader,r.fragmentShader,this.uniforms);Object.assign(a.defines,r.defines);var d=new zen3d.Mesh(i,a);n.add(d)};zen3d.inherit(e,zen3d.Pass),e.prototype.render=function(e,r,t){this.uniforms[this.textureID]=r.texture,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)},zen3d.ShaderPass=e}();